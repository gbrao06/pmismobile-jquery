
<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile" 
	contentType="text/html"
        renderKitId="PRIMEFACES_MOBILE">

	<pm:page title="SentMessages">
	<style>
                .th-groups th {
                        text-align: center;
                        background-color: rgba(0,0,0,.1);
                        border-right: 1px solid #fff;
                }
                .ui-li-custom .ui-li-count {
                        right: 10px !important;
                        background-color: rgba(0,1,0,.1);
                }                
        		
        </style>        	
        <pm:view id="SentMessages" >
          
        <pm:header title="Sent Messages" swatch="b" style="background-color: red;color:black">
        <f:facet name="right">
                    <p:commandButton value="Documents" icon="gear" action="mdocs" />
                </f:facet>
        <f:facet name="left">
                    <p:commandButton value="Mail Box" icon="gear" action="mmessages" />
                </f:facet>
        
         </pm:header>
        <pm:content>
        <h:form >                
	   
	   	  <p:dataList id="dt1" value="#{PeerMessageWebBean.getMySentMessages()}"
	  paginator="true" var="item" bgcolor="#F1F1F1"
	  width="100%" rules="all" editable="true" rowKey="#{item.id}" selectionMode="single">
	  
	  
                        <f:attribute name="filter" value="true" />
                        <f:attribute name="placeholder" value="Search" />
                        <f:attribute name="autoDividers" value="true" />
                        <f:attribute name="icon" value="grid" />
                        <f:attribute name="iconSplit" value="true" />      
       <p:panel>
		  
		  <h:outputText styleClass="ui-li-count" value="#{item.getUsertbl2().userId}" ></h:outputText>
		
		 <p>
		 <h:outputText value="#{item.getMessage()}" ></h:outputText>
		  
		 </p>  
		 <p>
		  <h:outputText value="File Name:" ></h:outputText> 
		 </p>  
		 <p>
		  <h:outputText value="#{FileDownloadWebBean.getFileName(item.documentId)}" ></h:outputText>
		 </p>  
		 <p>
		 <h:outputText value="#{item.getLastUpdated()}"></h:outputText>
		 </p> 		
  		  <p:commandButton id="downloadLink" value="Download" ajax="false" onclick="PrimeFaces.monitorDownload(start, stop)"   
	        	icon="ui-icon-arrowthichk-s">  
	    		<p:fileDownload value="#{FileDownloadWebBean.getFile(item.documentId)}" />  
		</p:commandButton>
		</p:panel>
		</p:dataList>   
	   
		 <f:facet name="header">
		 </f:facet>
		 </h:form>
	          </pm:content>
	          </pm:view>
	          </pm:page>  
</f:view>